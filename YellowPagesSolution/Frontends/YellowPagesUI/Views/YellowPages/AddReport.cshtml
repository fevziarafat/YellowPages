@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@using Microsoft.AspNetCore.Mvc.TagHelpers
@model List<YellowPagesDto>
@{
    var reports = ViewBag.reports as List<ReportDto>;

}
<div class="row">
    <div class="col-md-12">

        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Locations</h5>

                @if (Model.Any())
                {
                    <table class="table table-striped table-bordered">
                        <thead>
                        <tr>
                            <th>Location</th>
                            <th>İşlemler</th>
                        </tr>
                        </thead>
                        <tbody>
                        @foreach (var item in Model)
                        {
                            @if (item.locationInformations as List<LocationInformationDto> != null)
                            {
                                @foreach (var item2 in item.locationInformations as List<LocationInformationDto>)
                                {
                                    <tr>
                                        <td>@item2.Location</td>
                                        <td>
                                            <a asp-controller="YellowPages" asp-action="AddReport2" asp-route-location="@item2.Location" class="btn btn-success btn-sm">Rapor oluştur</a>
                                        </td>
                                    </tr>
                                }
                            }
                        }
                        </tbody>
                    </table>
                }
                else
                {
                    <div class="alert alert-info">
                        Kayıtlı Locations bulunamadı
                    </div>
                }
            </div>
        </div>
    </div>
</div>


<div class="row">
    <div class="col-md-12">

        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Reports</h5>

                @if (reports.Any())
                {
                    <table class="table table-striped table-bordered">
                        <thead>
                        <tr>
                            <th>Location</th>
                            <th>İşlemler</th>
                        </tr>
                        </thead>
                        <tbody>
                        @foreach (var item in reports)
                        {
                            <tr>
                                <td>@item.Location</td>
                                <td>
                                    <a asp-controller="YellowPages" asp-action="ReportDetails" asp-route-location="@item.Id" class="btn btn-success btn-sm">Ayrıntılar</a>
                                </td>
                            </tr>
                        }
                        </tbody>
                    </table>
                }
                else
                {
                    <div class="alert alert-info">
                        Kayıtlı Contact bulunamadı
                    </div>
                }
            </div>
        </div>
    </div>
</div>