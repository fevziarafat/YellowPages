@using Microsoft.AspNetCore.Mvc.TagHelpers
@using YellowPages.Shared.Dtos
@{
    var contact = ViewBag.email as YellowPagesDto;
}

<div class="row">
    <div class="col-md-12">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Yellow Pages</h5>
               @{
                   @if (contact != null)
                   {
                       <table class="table table-striped table-bordered">
                           <thead>
                           <tr>
                               <th>İsim</th>
                               <th>Soyad</th>
                               <th>Firma</th>
                           </tr>
                           </thead>
                           <tbody>
                           <tr>
                               <td>@contact.Name</td>
                               <td>@contact.SurName</td>
                               <td>@contact.Firm</td>
                           </tr>
                           </tbody>
                       </table>
                       <table class="table table-striped table-bordered">
                           @if (contact.EMailInformations as List<EMailInformationDto> != null)
                           {
                               <thead>
                               <tr>
                                   <th>EMail</th>
                                   <th>İşlemler</th>
                               </tr>
                               </thead>
                               @foreach (var item in contact.EMailInformations as List<EMailInformationDto>)
                               {
                                   <tbody>
                                   <tr>
                                       <td>@item.EMail</td>
                                       <td>
                                                <a asp-controller="YellowPages" asp-action="EmailDelete2" asp-route-id="@item.Id" class="btn btn-danger btn-sm">Sil</a>
                                       </td>
                                   </tr>
                                   </tbody>
                               }

                           }


                       </table>
                   }
                   else
                   {
                       <div class="alert alert-info">
                           Kayıtlı contact bulunamadı
                       </div>
                   }
               }
            </div>
        </div>
    </div>
</div>